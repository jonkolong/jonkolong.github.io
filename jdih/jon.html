<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pencarian Produk Hukum</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@3.2.47"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="styles.css"> <!-- Jika Anda ingin menambahkan CSS -->
</head>
<body>
    <div id="app">
        <h1>Pencarian Produk Hukum</h1>
        
        <div>
            <label for="tipe">Tipe:</label>
            <select v-model="selectedTipe" @change="fetchData">
                <option value="semua">Semua Tipe</option>
                <option v-for="tipe in tipeOptions" :key="tipe.id" :value="tipe.id">{{ tipe.name }}</option>
            </select>
        </div>
        
        <div>
            <label for="jenis">Jenis:</label>
            <select v-model="selectedJenis" @change="fetchData">
                <option value="semua">Semua Jenis</option>
                <option v-for="jenis in jenisOptions" :key="jenis.id" :value="jenis.id">{{ jenis.name }}</option>
            </select>
        </div>
        
        <div>
            <label for="tahun">Tahun:</label>
            <select v-model="selectedTahun" @change="fetchData">
                <option value="semua">Semua Tahun</option>
                <option v-for="tahun in tahunOptions" :key="tahun">{{ tahun }}</option>
            </select>
        </div>
        

        <button @click="fetchData">Cari</button>

        <div v-if="filteredProduk.length === 0">
            <p>Tidak ada produk hukum yang ditemukan.</p>
        </div>

        <table v-else>
            <thead>
                <tr>
                    <th>No</th>
                    <th>Tahun Pengundangan</th>
                    <th>Tipe</th>
                    <th>Jenis</th>
                    <th>No Peraturan</th>
                    <th>Judul</th>
                    <th>Status</th>
                    <th>Unduh</th>
                </tr>
            </thead>
            <tbody>
                <tr v-for="(item, index) in filteredProduk" :key="item.idData">
                    <td>{{ index + 1 }}</td>
                    <td>{{ item.tahun_pengundangan }}</td>
                    <td>{{ item.tipe }}</td>
                    <td>{{ item.jenis }}</td>
                    <td>{{ item.noPeraturan }}</td>
                    <td>{{ item.judul }}</td>
                    <td>{{ item.status }}</td>
                    <td>
                        <a :href="item.urlDownload" target="_blank">Download</a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <script src="assets/js/coba.js"></script>
</body>
</html>
